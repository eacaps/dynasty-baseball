const ROSTERS = {
    "7": {
        "0": {"roster":{"created_at":1620955819573,"league_id":"68018","team_id":"7","draft":true,"players":[{"id":"36185","name":"Ronald Acuna Jr.","keeperInfo":{"acquisitionDate":1616634796243,"acquisitionType":"DRAFT"},"draft":true},{"id":"31187","name":"Nick Castellanos","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"33184","name":"Tim Anderson","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"33709","name":"Aaron Nola","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"32796","name":"Jacob deGrom","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"40916","name":"Ian Anderson","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"30836","name":"Mike Trout","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT","keeperYears":"3"}},{"id":"39910","name":"Zac Gallen","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"32081","name":"Gerrit Cole","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"33859","name":"Rafael Devers","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"33218","name":"Dominic Smith","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"30950","name":"Yasmani Grandal","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"31077","name":"Brad Hand","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"35983","name":"Fernando Tatis Jr.","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"40937","name":"Dustin May","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT","keeperYears":"5"}},{"id":"32094","name":"Dylan Bundy","keeperInfo":{"acquisitionDate":1616634796245,"acquisitionType":"DRAFT"},"draft":true},{"id":"31668","name":"Marcell Ozuna","keeperInfo":{"acquisitionDate":1616635339503,"acquisitionType":"DRAFT"},"draft":true},{"id":"32582","name":"Hyun Jin Ryu","keeperInfo":{"acquisitionDate":1616635339503,"acquisitionType":"DRAFT"},"draft":true},{"id":"33618","name":"Raisel Iglesias","keeperInfo":{"acquisitionDate":1616635339503,"acquisitionType":"DRAFT"},"draft":true},{"id":"35020","name":"Ke'Bryan Hayes","keeperInfo":{"acquisitionDate":1616635339503,"acquisitionType":"DRAFT"},"draft":true},{"id":"31258","name":"Jameson Taillon","keeperInfo":{"acquisitionDate":1616635339503,"acquisitionType":"DRAFT"},"draft":true},{"id":"39825","name":"Freddy Peralta","keeperInfo":{"acquisitionDate":1616636148647,"acquisitionType":"ADD"},"draft":true},{"id":"30993","name":"Eric Hosmer","keeperInfo":{"acquisitionDate":1617591625631,"acquisitionType":"ADD"},"draft":true},{"id":"33017","name":"Joey Wendle","keeperInfo":{"acquisitionDate":1618196427295,"acquisitionType":"ADD"},"draft":true},{"id":"41433","name":"Jazz Chisholm Jr.","keeperInfo":{"acquisitionDate":1618801260291,"acquisitionType":"ADD"},"draft":true},{"id":"32888","name":"Yimi Garcia","keeperInfo":{"acquisitionDate":1618801260293,"acquisitionType":"ADD"},"draft":true},{"id":"32620","name":"Alex Wood","keeperInfo":{"acquisitionDate":1620010863784,"acquisitionType":"ADD"},"draft":true}],"revision":1},"revision":2},
        "1": {"roster":{"created_at":1620955721438,"league_id":"68018","team_id":"7","draft":true,"players":[{"id":"36185","name":"Ronald Acuna Jr.","keeperInfo":{"acquisitionDate":1616634796243,"acquisitionType":"DRAFT"},"draft":true},{"id":"31187","name":"Nick Castellanos","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"33184","name":"Tim Anderson","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"33709","name":"Aaron Nola","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"32796","name":"Jacob deGrom","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"40916","name":"Ian Anderson","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"30836","name":"Mike Trout","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT","keeperYears":"3"}},{"id":"39910","name":"Zac Gallen","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"32081","name":"Gerrit Cole","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"33859","name":"Rafael Devers","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"33218","name":"Dominic Smith","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"30950","name":"Yasmani Grandal","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"31077","name":"Brad Hand","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"35983","name":"Fernando Tatis Jr.","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"40937","name":"Dustin May","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"32094","name":"Dylan Bundy","keeperInfo":{"acquisitionDate":1616634796245,"acquisitionType":"DRAFT"},"draft":true},{"id":"31668","name":"Marcell Ozuna","keeperInfo":{"acquisitionDate":1616635339503,"acquisitionType":"DRAFT"},"draft":true},{"id":"32582","name":"Hyun Jin Ryu","keeperInfo":{"acquisitionDate":1616635339503,"acquisitionType":"DRAFT"},"draft":true},{"id":"33618","name":"Raisel Iglesias","keeperInfo":{"acquisitionDate":1616635339503,"acquisitionType":"DRAFT"},"draft":true},{"id":"35020","name":"Ke'Bryan Hayes","keeperInfo":{"acquisitionDate":1616635339503,"acquisitionType":"DRAFT"},"draft":true},{"id":"31258","name":"Jameson Taillon","keeperInfo":{"acquisitionDate":1616635339503,"acquisitionType":"DRAFT"},"draft":true},{"id":"39825","name":"Freddy Peralta","keeperInfo":{"acquisitionDate":1616636148647,"acquisitionType":"ADD"},"draft":true},{"id":"30993","name":"Eric Hosmer","keeperInfo":{"acquisitionDate":1617591625631,"acquisitionType":"ADD"},"draft":true},{"id":"33017","name":"Joey Wendle","keeperInfo":{"acquisitionDate":1618196427295,"acquisitionType":"ADD"},"draft":true},{"id":"41433","name":"Jazz Chisholm Jr.","keeperInfo":{"acquisitionDate":1618801260291,"acquisitionType":"ADD"},"draft":true},{"id":"32888","name":"Yimi Garcia","keeperInfo":{"acquisitionDate":1618801260293,"acquisitionType":"ADD"},"draft":true},{"id":"32620","name":"Alex Wood","keeperInfo":{"acquisitionDate":1620010863784,"acquisitionType":"ADD"},"draft":true}],"revision":0},"revision":1},
        "2": {"roster":{"created_at":1620955819573,"league_id":"68018","team_id":"7","draft":true,"players":[{"id":"36185","name":"Ronald Acuna Jr.","keeperInfo":{"acquisitionDate":1616634796243,"acquisitionType":"DRAFT"},"draft":true},{"id":"31187","name":"Nick Castellanos","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"33184","name":"Tim Anderson","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"33709","name":"Aaron Nola","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"32796","name":"Jacob deGrom","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"40916","name":"Ian Anderson","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"30836","name":"Mike Trout","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT","keeperYears":"3"}},{"id":"39910","name":"Zac Gallen","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"32081","name":"Gerrit Cole","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"33859","name":"Rafael Devers","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"33218","name":"Dominic Smith","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"30950","name":"Yasmani Grandal","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"31077","name":"Brad Hand","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"35983","name":"Fernando Tatis Jr.","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT"},"draft":true},{"id":"40937","name":"Dustin May","keeperInfo":{"acquisitionDate":1616634796244,"acquisitionType":"DRAFT","keeperYears":"5"}},{"id":"32094","name":"Dylan Bundy","keeperInfo":{"acquisitionDate":1616634796245,"acquisitionType":"DRAFT"},"draft":true},{"id":"31668","name":"Marcell Ozuna","keeperInfo":{"acquisitionDate":1616635339503,"acquisitionType":"DRAFT"},"draft":true},{"id":"32582","name":"Hyun Jin Ryu","keeperInfo":{"acquisitionDate":1616635339503,"acquisitionType":"DRAFT"},"draft":true},{"id":"33618","name":"Raisel Iglesias","keeperInfo":{"acquisitionDate":1616635339503,"acquisitionType":"DRAFT"},"draft":true},{"id":"35020","name":"Ke'Bryan Hayes","keeperInfo":{"acquisitionDate":1616635339503,"acquisitionType":"DRAFT"},"draft":true},{"id":"31258","name":"Jameson Taillon","keeperInfo":{"acquisitionDate":1616635339503,"acquisitionType":"DRAFT"},"draft":true},{"id":"39825","name":"Freddy Peralta","keeperInfo":{"acquisitionDate":1616636148647,"acquisitionType":"ADD"},"draft":true},{"id":"30993","name":"Eric Hosmer","keeperInfo":{"acquisitionDate":1617591625631,"acquisitionType":"ADD"},"draft":true},{"id":"33017","name":"Joey Wendle","keeperInfo":{"acquisitionDate":1618196427295,"acquisitionType":"ADD"},"draft":true},{"id":"41433","name":"Jazz Chisholm Jr.","keeperInfo":{"acquisitionDate":1618801260291,"acquisitionType":"ADD"},"draft":true},{"id":"32888","name":"Yimi Garcia","keeperInfo":{"acquisitionDate":1618801260293,"acquisitionType":"ADD"},"draft":true},{"id":"32620","name":"Alex Wood","keeperInfo":{"acquisitionDate":1620010863784,"acquisitionType":"ADD"},"draft":true}],"revision":1},"revision":2}
    }
}

class Roster {
    get(team_id,rev_id) {
        let team = ROSTERS[team_id];
        console.log(`teams: ${Object.keys(ROSTERS).length}`)
        if(!team) {
            team = {};
            ROSTERS[team_id] = team
        }
        console.log(team);
        if(rev_id) {
            let roster_rev = team[rev_id];
            if(!roster_rev) throw new Error(`invalid rev: ${rev_id}`);
            return roster_rev;
        }
        return team['0'];
    }
    put(team_id,rev_id,roster) {
        let team = ROSTERS[team_id];
        if(!team) {
            team = {};
            ROSTERS[team_id] = team
        }
        if(team[rev_id]) throw new Error(`rev already exists: ${rev_id}`)
        team[rev_id] = roster;
        team['0'] = roster;
    }
}

const roster = new Roster();

// module.exports = roster;
export default roster;